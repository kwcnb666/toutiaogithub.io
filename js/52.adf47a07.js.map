{"version":3,"file":"js/52.adf47a07.js","mappings":"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","sources":["webpack://toutiao/./src/views/userAction/myfav.vue","webpack://toutiao/src/views/userAction/myfav.vue","webpack://toutiao/./src/views/userAction/myfav.vue?aa58","webpack://toutiao/./src/views/userAction/myfav.vue?6ce2","webpack://toutiao/./src/api/detailed.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"adiv\"},[_c('van-icon',{staticClass:\"myicon\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('h1',[_vm._v(\"我的收藏\")])],1),_c('van-empty',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.list.length==0),expression:\"this.list.length==0\"}],attrs:{\"image\":\"error\",\"description\":\"暂无收藏\"}}),_vm._l((_vm.list),function(item,index){return _c('van-panel',{key:index,attrs:{\"title\":`第${index + 1}条发布`,\"desc\":new Date(parseInt(item.time)).toLocaleString().replace(/:\\d{1,2}$/, '')},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(index)}}},[_vm._v(\"取消收藏\")])]},proxy:true}],null,true)},[_c('router-link',{attrs:{\"to\":{ path: '/detailed', query: { item_id:item._id,cate_id:_vm.loginfo.uid} },\"custom\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ navigate }){return [_c('span',{attrs:{\"role\":\"link\"},on:{\"click\":navigate,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return navigate.apply(null, arguments)}}},[_c('div',{staticClass:\"con\"},[_vm._v(\"我的发布标题《\"+_vm._s(item.title)+\"》\")])])]}}],null,true)})],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"adiv\">\r\n      <van-icon name=\"arrow-left\" class=\"myicon\" @click=\"$router.back()\" />\r\n      <h1>我的收藏</h1>\r\n    </div>\r\n  \r\n        <van-empty image=\"error\" description=\"暂无收藏\" v-show=\"this.list.length==0\" />\r\n  \r\n    <van-panel\r\n      v-for=\"(item, index) in list\"\r\n      :key=\"index\"\r\n      :title=\"`第${index + 1}条发布`\"\r\n      :desc=\"\r\n        new Date(parseInt(item.time)).toLocaleString().replace(/:\\d{1,2}$/, '')\r\n      \"\r\n    >    <router-link\r\n          :to=\"{ path: '/detailed', query: { item_id:item._id,cate_id:loginfo.uid} }\"\r\n          custom\r\n          v-slot=\"{ navigate }\"\r\n        >\r\n          <span @click=\"navigate\" @keypress.enter=\"navigate\" role=\"link\">\r\n      <div class=\"con\">我的发布标题《{{ item.title }}》</div>\r\n       </span>\r\n        </router-link>\r\n      <template #footer>\r\n        <van-button size=\"small\" type=\"danger\" @click=\"del(index)\"\r\n          >取消收藏</van-button\r\n        >\r\n      </template>\r\n    </van-panel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getfavAPI } from \"@/api/home\";\r\nimport { remove_fav } from \"@/api/detailed\";\r\n\r\n\r\nexport default {\r\n  name: \"myfav\",\r\n  data() {\r\n    return {\r\n      list: [],\r\n      loginfo: JSON.parse(sessionStorage.getItem(\"loginfo\")),\r\n    };\r\n  },\r\n  methods: {\r\n    huoqu() {\r\n      getfavAPI({\r\n        user_id:this.loginfo.userInfo._id,\r\n        skip:0,\r\n        limit:10\r\n      }).then((result) => {\r\n        console.log('result: ', result);\r\n        this.list=result.data.data\r\n      }).catch((err) => {\r\n        console.log('err: ', err);\r\n        \r\n      });\r\n       \r\n    },\r\n    del(index) {\r\n      this.$dialog\r\n        .confirm({\r\n          message: \"确定取消收藏吗\",\r\n        })\r\n        .then(() => {\r\n \r\n\r\n          remove_fav( {user_id: this.loginfo.uid, article_id: this.list[index]._id})\r\n            .then((result) => {\r\n              console.log(\"result: \", result);\r\n              this.$toast(result.data.msg);\r\n              this.$notify({ type: \"danger\", message: result.data.msg });\r\n              this.huoqu();\r\n            })\r\n            .catch((err) => {\r\n              console.log(\"err: \", err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$toast(\"取消删除\");\r\n          this.$notify({ type: \"success\", message: \"取消删除\" });\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.huoqu();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.adiv {\r\n  width: 100vw;\r\n  height: 50px;\r\n  background-color: $mycolor;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  color: aliceblue;\r\n  font-size: 14px;\r\n}\r\nh1 {\r\n  margin: 0 auto;\r\n  font-size: 16px;\r\n}\r\n.myicon {\r\n  font-size: 32px;\r\n}\r\n.con {\r\n  font-size: 16px;\r\n  text-indent: 19px;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myfav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myfav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myfav.vue?vue&type=template&id=02a631d6&scoped=true&\"\nimport script from \"./myfav.vue?vue&type=script&lang=js&\"\nexport * from \"./myfav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myfav.vue?vue&type=style&index=0&id=02a631d6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02a631d6\",\n  null\n  \n)\n\nexport default component.exports","import myaxios from './myaxios'\r\n\r\nexport const detaildeAPI = (p)=>myaxios.post('api/get_article_detail',p);\r\nexport const commentAPI = (p)=>myaxios.post('/api/get_comment_list',p);\r\nexport const likeAPI = (p)=>myaxios.post('/api/like',p);\r\nexport const unlikeAPI = (p)=>myaxios.post('api/unlike',p);\r\nexport const add_favAPI = (p)=>myaxios.post('/api/add_fav',p);\r\nexport const remove_fav = (p)=>myaxios.post('/api/remove_fav',p);\r\nexport const add_comment = (p)=>myaxios.post('/api/add_comment',p);\r\nexport const comment_like = (p)=>myaxios.post('/api/comment_like',p);\r\nexport const comment_unlike = (p)=>myaxios.post('/api/comment_unlike',p);\r\nexport const get_reply_list = (p)=>myaxios.post('/api/get_reply_list',p);\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","_v","directives","name","rawName","value","list","length","expression","_l","item","index","key","Date","parseInt","time","toLocaleString","replace","scopedSlots","_u","fn","del","proxy","path","query","item_id","_id","cate_id","loginfo","uid","navigate","type","indexOf","_k","keyCode","apply","arguments","_s","title","staticRenderFns","data","methods","huoqu","getfavAPI","user_id","skip","limit","console","confirm","message","then","remove_fav","article_id","catch","created","component","detaildeAPI","p","myaxios","commentAPI","likeAPI","unlikeAPI","add_favAPI","add_comment","comment_like","comment_unlike","get_reply_list"],"sourceRoot":""}