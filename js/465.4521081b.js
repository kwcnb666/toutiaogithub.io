"use strict";(self["webpackChunktoutiao"]=self["webpackChunktoutiao"]||[]).push([[465],{8465:function(t,a,e){e.r(a),e.d(a,{default:function(){return m}});e(7658);var s=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"adiv"},[a("van-icon",{staticClass:"icon",attrs:{name:"arrow-left"},on:{click:function(a){return t.$router.back()}}}),a("h1",[t._v("登录/注册")])],1),t.tf?a("van-form",{ref:"form",attrs:{"validate-first":!0},on:{submit:t.onSubmit}},[a("van-field",{attrs:{name:"username",label:"用户名",placeholder:"请填写11位手机号码",rules:[{validator:t.validator,message:"请填写11位正确号码"}]},model:{value:t.username,callback:function(a){t.username=a},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"请填写8位登录密码",rules:[{pattern:t.pattern,message:"请填写8-16位数字加字母登录密码"}]},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:t.myColor}},[t._v("登录")])],1),a("p",[t._v("还没有账号吗，点我去注册呀！"),a("span",{on:{click:function(a){t.tf=!t.tf}}},[t._v("注册")])]),a("p",[t._v("有账号忘记密码了吗？那就点我去找回密码呀！"),a("span",{on:{click:function(a){return t.$router.push("/forget")}}},[t._v("找回密码")])])],1):a("van-form",{ref:"form1",attrs:{"validate-first":!0},on:{submit:t.onSubmit1}},[a("van-field",{attrs:{name:"username",label:"用户名",placeholder:"请填写11位手机号码",rules:[{validator:t.validator,message:"请填写11位正确号码"}]},model:{value:t.username1,callback:function(a){t.username1=a},expression:"username1"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"请填写8位登录密码",rules:[{pattern:t.pattern,message:"请填写8-16位数字加字母登录密码"}]},model:{value:t.password1,callback:function(a){t.password1=a},expression:"password1"}}),a("van-field",{attrs:{name:"vercode",center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[a("van-button",{staticClass:"yzm",attrs:{size:"small",type:"button",color:t.myColor},on:{click:t.yzmfn}},[t._v("发送验证码")])]},proxy:!0}]),model:{value:t.yzm,callback:function(a){t.yzm=a},expression:"yzm"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:t.myColor}},[t._v("注册")])],1),a("p",[t._v("注册好账号了吗，点我去登录呀！"),a("span",{on:{click:function(a){t.tf=!t.tf}}},[t._v("登录")])])],1)],1)},o=[],n=e(2419),r=e(3822),l={name:"login",data(){return{username:"",password:"",username1:"",password1:"",yzm:"",mycilck:!0,pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,tf:!0}},methods:{...(0,r.OI)([]),validator(t){return/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(t)},yzmfn(){(0,n.FJ)({mobile:this.username1,type:"register"}).then((t=>{console.log("result: ",t),this.yzm=t.data.data,this.$toast("验证码是"+t.data.data)})).catch((t=>{console.log("err: ",t)}))},onSubmit(t){console.log("submit",t),(0,n.UP)(t).then((t=>{"登录成功"==t.data.msg&&(this.$notify({type:"danger",message:t.data.msg}),this.$toast(t.data.msg),this.$router.push("/index"),sessionStorage.setItem("loginfo",JSON.stringify(t.data)))})).catch((t=>{console.log("err: ",t)}))},onSubmit1(t){console.log("values: ",t),(0,n.cY)(t).then((t=>{console.log("result: ",t),this.$toast(t.data.msg)})).catch((t=>{console.log("err: ",t)}))}}},i=l,c=e(1001),u=(0,c.Z)(i,s,o,!1,null,"ad050136",null),m=u.exports}}]);
//# sourceMappingURL=465.4521081b.js.map